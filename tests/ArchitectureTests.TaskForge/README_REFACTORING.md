# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üéØ –¶–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
ArchitectureTests.TaskForge/
‚îú‚îÄ‚îÄ Core/                           # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ArchitectureTestBase.cs   # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ AssemblyResolver.cs        # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ SourceCodeAnalyzer.cs     # –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ DependencyGraphAnalyzer.cs # –ê–Ω–∞–ª–∏–∑ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ TestConfiguration.cs      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ Helpers/                        # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ NamingConventionHelper.cs  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ AsyncPatternHelper.cs     # –ü—Ä–æ–≤–µ—Ä–∫–∞ async/await –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ Categories/                     # –¢–µ—Å—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    ‚îú‚îÄ‚îÄ LayerDependencyTests.cs    # –¢–µ—Å—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–ª–æ–µ–≤
    ‚îî‚îÄ‚îÄ AsyncPatternTests.cs      # –¢–µ—Å—Ç—ã async –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. ArchitectureTestBase

–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤:
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `AssemblyResolver`, `SourceAnalyzer`, `DependencyAnalyzer`
- –°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–±–æ—Ä–∫–∞–º–∏ –∏ –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º
- –ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç –Ω–µ–≥–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–µ—Å—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```csharp
public class MyTests : ArchitectureTestBase
{
    protected override Dictionary<string, Assembly> GetAssemblies()
    {
        return new Dictionary<string, Assembly>
        {
            { "API", typeof(MyProject.API.Controllers.HomeController).Assembly },
            { "Application", typeof(MyProject.Application.Services.MyService).Assembly }
        };
    }

    [Fact]
    public void My_Test()
    {
        var apiAssembly = GetAssembly("API");
        // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SourceAnalyzer, DependencyAnalyzer –∏ —Ç.–¥.
    }
}
```

### 2. AssemblyResolver

–£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–±–æ—Ä–∫–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞:
- –•—Ä–∞–Ω–∏—Ç –≤—Å–µ —Å–±–æ—Ä–∫–∏ –ø–æ –∏–º–µ–Ω–∞–º
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–±–æ—Ä–∫–∞–º –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º
- –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 3. SourceCodeAnalyzer

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:
- –ù–∞—Ö–æ–¥–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–±–æ—Ä–æ–∫
- –ü–∞—Ä—Å–∏—Ç –∫–æ–¥ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –º–µ—Ç–æ–¥—ã)
- –ù–∞—Ö–æ–¥–∏—Ç await statements –∏ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### 4. DependencyGraphAnalyzer

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- –ù–∞—Ö–æ–¥–∏—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–ª–æ–µ–≤
- –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 5. TestConfiguration

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞
- –°–ø–∏—Å–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

**–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:**
```csharp
protected override void Configure(TestConfiguration config)
{
    config.ProjectPrefix = "MyProject";
    config.ExcludePatterns.Add("Generated");
    config.AsyncOperationsRequiringConfigureAwait.Add("MyCustomAsync");
}
```

### 6. Helpers

–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:
- `NamingConventionHelper` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- `AsyncPatternHelper` - –ø—Ä–æ–≤–µ—Ä–∫–∞ async –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫–∏ `Core/`, `Helpers/` –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Categories/` –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç.

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–±–æ—Ä–∫–∏

–í –∫–∞–∂–¥–æ–º —Ç–µ—Å—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `GetAssemblies()`:

```csharp
protected override Dictionary<string, Assembly> GetAssemblies()
{
    return new Dictionary<string, Assembly>
    {
        { "API", typeof(YourProject.API.Controllers.HomeController).Assembly },
        { "Application", typeof(YourProject.Application.Services.MyService).Assembly },
        { "Domain", typeof(YourProject.Domain.Entities.MyEntity).Assembly }
    };
}
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `TestConfiguration`:

```csharp
protected override void Configure(TestConfiguration config)
{
    config.ProjectPrefix = "YourProject";
    config.ContextRequiringNamespaces.Add("YourCustomNamespace");
}
```

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ –ø–∞–ø–∫–µ `Categories/`:

```csharp
public class MyLayerTests : ArchitectureTestBase
{
    protected override Dictionary<string, Assembly> GetAssemblies() { /* ... */ }
    
    [Fact]
    public void My_Test() { /* ... */ }
}
```

## üìã –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å** - Core –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–º –ø—Ä–æ–µ–∫—Ç–µ  
‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å  
‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `TestConfiguration`  
‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ö–µ–ª–ø–µ—Ä—ã –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ  

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤

–°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

1. –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å –≤ `Categories/`
2. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç `ArchitectureTestBase`
3. –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ `GetAssemblies()`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–µ–ª–ø–µ—Ä—ã –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
5. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

## üìù –ü—Ä–∏–º–µ—Ä—ã

–°–º. —Ñ–∞–π–ª—ã:
- `Categories/LayerDependencyTests.cs` - –ø—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `Categories/AsyncPatternTests.cs` - –ø—Ä–∏–º–µ—Ä async —Ç–µ—Å—Ç–æ–≤
- `Helpers/AsyncPatternHelper.cs` - –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö–µ–ª–ø–µ—Ä–æ–≤

