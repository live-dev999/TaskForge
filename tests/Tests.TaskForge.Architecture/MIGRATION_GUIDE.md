# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## üìã –û–±–∑–æ—Ä —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ç–µ—Å—Ç—ã –±—ã–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- –í—Å–µ —Ç–µ—Å—Ç—ã –±—ã–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞
- –•–µ–ª–ø–µ—Ä—ã –±—ã–ª–∏ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ —Ñ–∞–π–ª–∞–º
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `Core/` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
- ‚úÖ –•–µ–ª–ø–µ—Ä—ã –≤ `Helpers/` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
- ‚úÖ –¢–µ—Å—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –≤ `Categories/`
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –õ–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
Tests.TaskForge.Architecture/
‚îú‚îÄ‚îÄ Core/                           # ‚úÖ –ù–û–í–û–ï - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ArchitectureTestBase.cs    # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ AssemblyResolver.cs        # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–±–æ—Ä–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ SourceCodeAnalyzer.cs     # –ê–Ω–∞–ª–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ DependencyGraphAnalyzer.cs # –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ TestConfiguration.cs      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ Helpers/                        # ‚úÖ –ù–û–í–û–ï - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö–µ–ª–ø–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ NamingConventionHelper.cs  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ AsyncPatternHelper.cs    # –ü—Ä–æ–≤–µ—Ä–∫–∞ async –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ Categories/                     # ‚úÖ –ù–û–í–û–ï - –¢–µ—Å—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
‚îÇ   ‚îú‚îÄ‚îÄ LayerDependencyTests.cs    # –¢–µ—Å—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–ª–æ–µ–≤
‚îÇ   ‚îú‚îÄ‚îÄ AsyncPatternTests.cs      # –¢–µ—Å—Ç—ã async –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ SecurityTests.cs          # –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ Examples/                       # ‚úÖ –ù–û–í–û–ï - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ ExampleProjectTests.cs    # –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ [–°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã]                  # ‚ö†Ô∏è –ú–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
    ‚îú‚îÄ‚îÄ ArchitectureTests.cs       # –ß–∞—Å—Ç–∏—á–Ω–æ –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ Categories/
    ‚îú‚îÄ‚îÄ NamingConventionTests.cs  # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Helpers/
    ‚îú‚îÄ‚îÄ HighPriorityArchitectureTests.cs # –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Categories/
    ‚îî‚îÄ‚îÄ ...
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Core –∏ Helpers

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–∞–ø–∫–∏:
- `Core/` - –≤—Å–µ —Ñ–∞–π–ª—ã
- `Helpers/` - –≤—Å–µ —Ñ–∞–π–ª—ã

–≠—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã **–Ω–µ –∑–∞–≤–∏—Å—è—Ç** –æ—Ç TaskForge –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã.

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Categories —Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ `Categories/`:

```csharp
public class MyLayerTests : ArchitectureTestBase
{
    protected override Dictionary<string, Assembly> GetAssemblies()
    {
        return new Dictionary<string, Assembly>
        {
            { "API", typeof(YourProject.API.Controllers.HomeController).Assembly },
            { "Application", typeof(YourProject.Application.Services.MyService).Assembly }
        };
    }

    [Fact]
    public void My_Test()
    {
        var apiAssembly = GetAssembly("API");
        // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã
    }
}
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:

```csharp
protected override void ConfigureTest()
{
    Configuration.ProjectPrefix = "YourProject";
    Configuration.ExcludePatterns.Add("Generated");
}
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–ª–æ–µ–≤

**–ë—ã–ª–æ:**
```csharp
public class ArchitectureTests
{
    private static readonly Assembly DomainAssembly = ...;
    
    [Fact]
    public void Domain_Should_Not_Have_Dependencies_On_Other_Layers()
    {
        var result = Types.InAssembly(DomainAssembly)...
    }
}
```

**–°—Ç–∞–ª–æ:**
```csharp
public class LayerDependencyTests : ArchitectureTestBase
{
    protected override Dictionary<string, Assembly> GetAssemblies()
    {
        return new Dictionary<string, Assembly>
        {
            { "Domain", typeof(MyProject.Domain.MyEntity).Assembly }
        };
    }

    [Fact]
    public void Domain_Should_Not_Have_Dependencies_On_Other_Layers()
    {
        var domainAssembly = GetAssembly("Domain");
        // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ –∂–µ NetArchTest –ø—Ä–∞–≤–∏–ª–∞
    }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö–µ–ª–ø–µ—Ä–æ–≤

**–ë—ã–ª–æ:**
```csharp
// –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –≤ –∫–∞–∂–¥–æ–º —Ç–µ—Å—Ç–µ
var sourceFiles = GetSourceFilesFromAssembly(assembly);
var awaitStatements = FindAwaitStatements(sourceFile);
// ...
```

**–°—Ç–∞–ª–æ:**
```csharp
var sourceFiles = GetSourceFiles(assembly);
var violations = AsyncPatternHelper.FindMissingConfigureAwait(
    SourceAnalyzer, sourceFiles, Configuration);
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

1. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å** - Core –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ª—é–±–æ–º –ø—Ä–æ–µ–∫—Ç–µ
2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
4. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ TestConfiguration
5. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
6. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ö–µ–ª–ø–µ—Ä—ã –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

## üîß –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏?

–°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã (`ArchitectureTests.cs`, `NamingConventionTests.cs`, etc.) –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∏—Ö –º–æ–∂–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ:

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Å—Ç –≤ `Categories/`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ö–µ–ª–ø–µ—Ä—ã –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç–µ—Å—Ç

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README_REFACTORING.md](README_REFACTORING.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [Examples/ExampleProjectTests.cs](Examples/ExampleProjectTests.cs) - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [README.md](README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ—Å—Ç–∞—Ö

