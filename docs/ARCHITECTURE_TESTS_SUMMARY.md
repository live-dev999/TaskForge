# –°–≤–æ–¥–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 1. ArchitectureTests.cs
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (Clean Architecture)
- ‚úÖ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (Controllers, Handlers, Validators, Workers, Consumers)
- ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Commands/Queries/Handlers
- ‚úÖ –°—Å—ã–ª–∫–∏ –º–µ–∂–¥—É —Å–±–æ—Ä–∫–∞–º–∏

### 2. NamingConventionTests.cs
- ‚úÖ Private fields –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `_`
- ‚úÖ Public properties/methods –∏—Å–ø–æ–ª—å–∑—É—é—Ç PascalCase
- ‚úÖ Async –º–µ—Ç–æ–¥—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `Async`
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `I` + –∑–∞–≥–ª–∞–≤–Ω–∞—è
- ‚úÖ Handlers –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è `Handler`
- ‚úÖ Validators –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `Validator`
- ‚úÖ DTOs –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–∞ `Dto`

### 3. ConsistencyTests.cs
- ‚úÖ Handlers –∏–º–µ—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ Command/Query
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–º–µ—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ Event –º–æ–¥–µ–ª–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- ‚úÖ Result<T> —è–≤–ª—è–µ—Ç—Å—è immutable
- ‚úÖ Controllers –∏—Å–ø–æ–ª—å–∑—É—é—Ç HandleResult

### 4. XmlDocumentationTests.cs
- ‚úÖ Public –∫–ª–∞—Å—Å—ã –∏–º–µ—é—Ç XML Summary
- ‚úÖ Public –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–º–µ—é—Ç XML Summary
- ‚úÖ Public –º–µ—Ç–æ–¥—ã –≤ controllers –∏–º–µ—é—Ç XML Summary

### 5. AdditionalArchitectureTests.cs
- ‚úÖ Async –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å CancellationToken
- ‚úÖ Controllers –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å async void –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ Handlers –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å Logger injection
- ‚úÖ Handlers –Ω–µ –¥–æ–ª–∂–Ω—ã –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å-–æ—à–∏–±–æ–∫
- ‚úÖ Services –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- ‚úÖ DTOs –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å immutable –∏–ª–∏ –∏–º–µ—Ç—å protected setters

### 6. CriticalArchitectureTests.cs
- ‚úÖ HttpClient –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ IHttpClientFactory
- ‚úÖ Controllers –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- ‚úÖ Handlers –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å HTTP-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥
- ‚úÖ Domain –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å infrastructure –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ Controller actions –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å IActionResult
- ‚úÖ RESTful conventions –¥–ª—è API –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ ExceptionMiddleware –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å environment
- ‚úÖ Production –∫–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ï–©–ï –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 1. ConfigureAwait(false) –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–º –∫–æ–¥–µ ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç deadlocks –∏ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `HighPriorityArchitectureTests.cs`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- `Library_Code_Should_Use_ConfigureAwait_False()` - –û–±—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è Application/Persistence —Å–ª–æ–µ–≤
- `Application_Layer_Handlers_Should_Use_ConfigureAwait_False()` - –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è handlers
- `EventService_Should_Use_ConfigureAwait_False()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è EventService
- `Should_Not_Use_ConfigureAwait_True_In_Library_Code()` - –ó–∞–ø—Ä–µ—Ç ConfigureAwait(true)
- `DbContext_Operations_Should_Use_ConfigureAwait_False()` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π DbContext

#### 2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –≤ async –º–µ—Ç–æ–¥–∞—Ö
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** .Wait(), .Result, GetAwaiter().GetResult() –≤—ã–∑—ã–≤–∞—é—Ç deadlocks
```csharp
[Fact]
public void Async_Methods_Should_Not_Use_Blocking_Calls()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –Ω–µ—Ç .Wait(), .Result, GetAwaiter().GetResult()
    // –¢—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ IL –∞–Ω–∞–ª–∏–∑–∞
}
```

#### 3. –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–±–æ—Ä–∫–∞–º–∏
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Ä—É—à–∞—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
```csharp
[Fact]
public void Should_Not_Have_Circular_Dependencies_Between_Assemblies()
{
    // –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ü–∏–∫–ª—ã
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞ —Ü–∏–∫–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ
}
```

#### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ DbContext –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ù–∞—Ä—É—à–µ–Ω–∏–µ —Å–ª–æ–µ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```csharp
[Fact]
public void Controllers_Should_Not_Use_DbContext_Directly()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–µ –∏–º–µ—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç DataContext
}
```

#### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è hardcoded –∑–Ω–∞—á–µ–Ω–∏–π (connection strings, URLs, secrets)
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```csharp
[Fact]
public void Should_Not_Have_Hardcoded_Connection_Strings()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ hardcoded —Å—Ç—Ä–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
}
```

---

### üü° –í–∞–∂–Ω—ã–µ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è IHttpClientFactory –≤–º–µ—Å—Ç–æ new HttpClient()
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏, –∏–∑–±–µ–∂–∞–Ω–∏–µ socket exhaustion
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ CriticalArchitectureTests

#### 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç XML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API, —É–ª—É—á—à–∞–µ—Ç developer experience
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ XmlDocumentationTests (—Ç—Ä–µ–±—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ XML docs)

#### 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è structured logging –≤–º–µ—Å—Ç–æ string interpolation
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
```csharp
[Fact]
public void Logging_Should_Use_Structured_Format()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ILogger.LogInformation("Message {Param}", param)
    // –≤–º–µ—Å—Ç–æ ILogger.LogInformation($"Message {param}")
    // –¢—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
}
```

#### 9. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–ª–∞—Å—Å—ã —Å IDisposable –ø—Ä–∞–≤–∏–ª—å–Ω–æ –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –£—Ç–µ—á–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ AdditionalArchitectureTests

#### 10. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è static state (–∫—Ä–æ–º–µ constants)
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–æ–±–ª–µ–º—ã —Å thread-safety –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å—é
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ AdditionalArchitectureTests

---

### üü¢ –ü–æ–ª–µ–∑–Ω—ã–µ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ)

#### 11. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CancellationToken
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –û—Ç–º–µ–Ω–∞ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, graceful shutdown
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ AdditionalArchitectureTests

#### 12. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–º–µ—é—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ ConsistencyTests

#### 13. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ DTOs –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
```csharp
[Fact]
public void DTOs_Should_Not_Have_Business_Logic()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ DTOs - –ø—Ä–æ—Å—Ç—ã–µ POCO –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
}
```

#### 14. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (Factory, Strategy, etc.)
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞—è–≤–ª–µ–Ω–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```csharp
[Fact]
public void Should_Use_Repository_Pattern_For_Data_Access()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ DbContext
    // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ DbContext –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é (—ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ)
}
```

#### 15. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è nullable reference types
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ NullReferenceException
```csharp
[Fact]
public void Nullable_Annotations_Should_Be_Consistent()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ nullable annotations –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç #nullable disable
}
```

#### 16. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API –∏–º–µ—é—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API
```csharp
[Fact]
public void API_Should_Have_Versioning()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (ApiVersion attribute)
    // –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
}
```

#### 17. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
```csharp
[Fact]
public void Migrations_Should_Be_In_Persistence_Layer()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ EF Core migrations –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ Persistence –ø—Ä–æ–µ–∫—Ç–µ
}
```

#### 18. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è readonly –¥–ª—è immutable –¥–∞–Ω–Ω—ã—Ö
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –Ø–≤–Ω–æ—Å—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–π, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
```csharp
[Fact]
public void Immutable_Fields_Should_Be_Readonly()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å—Å—è, –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ readonly
}
```

#### 19. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ dependency injection
```csharp
[Fact]
public void Services_Should_Be_Registered_With_Correct_Lifetime()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π lifetime (Singleton, Scoped, Transient)
    // –¢—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ ApplicationServiceExtensions
}
```

#### 20. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è side effects –≤ query handlers
**–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:** CQRS –ø—Ä–∏–Ω—Ü–∏–ø - queries –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```csharp
[Fact]
public void Query_Handlers_Should_Not_Modify_State()
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ Query handlers (List, Details) –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç SaveChanges
}
```

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü–æ–∫—Ä—ã—Ç–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|----------|--------|
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–ª–æ–µ–≤ | ‚úÖ 100% | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ | ‚úÖ 95% | –ü–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é |
| –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ | ‚úÖ 90% | –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |
| XML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚ö†Ô∏è 70% | –¢—Ä–µ–±—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ XML docs |
| –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å | ‚úÖ 85% | –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |
| Async/Await –ø–∞—Ç—Ç–µ—Ä–Ω—ã | ‚ö†Ô∏è 60% | –ß–∞—Å—Ç–∏—á–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞) |
| –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã | ‚ùå 0% | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç IL/–∫–æ–¥ –∞–Ω–∞–ª–∏–∑) |
| ConfigureAwait | ‚úÖ 95% | –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (5 —Ç–µ—Å—Ç–æ–≤) |
| –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚ö†Ô∏è 50% | –ß–∞—Å—Ç–∏—á–Ω–æ (–±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞) |
| Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è | ‚ùå 0% | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–¥–∞) |
| Structured logging | ‚ö†Ô∏è 30% | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ILogger, –Ω–æ –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∞ |
| RESTful conventions | ‚úÖ 80% | –•–æ—Ä–æ—à–æ –ø–æ–∫—Ä—ã—Ç–æ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚úÖ 70% | –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å):
1. **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –≤ async –º–µ—Ç–æ–¥–∞—Ö** - –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ deadlocks
2. **Hardcoded –∑–Ω–∞—á–µ–Ω–∏—è** - –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
3. **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
4. **DbContext –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö** - –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Å–ª–æ–µ–≤ ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
5. ~~ConfigureAwait(false)~~ ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û** - —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
6. Structured logging format - —É–ª—É—á—à–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
7. Query handlers –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ - CQRS –ø—Ä–∏–Ω—Ü–∏–ø

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
8. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API
9. Readonly –¥–ª—è immutable –ø–æ–ª–µ–π
10. Lifetime –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ DI

---

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

–î–ª—è –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

1. **Roslyn Analyzers** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤
2. **Source Code Parsing** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π, string interpolation –≤ –ª–æ–≥–∞—Ö
3. **IL Analysis** - –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ async/await –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
4. **XML Documentation Parser** - –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ XML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **NetArchTest.Rules** –∏ **Reflection**, —á—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç ~80% –≤–∞–∂–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

